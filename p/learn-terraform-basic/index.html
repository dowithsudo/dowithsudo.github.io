<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="A practical guide to learning Terraform basics, written from real operations experience. Covers core concepts, step by step workflow, AWS examples, environment separation, and remote state best practices without fluff or hype."><title>Learn Terraform Basic</title><link rel=canonical href=https://dowithsudo.com/p/learn-terraform-basic/><link rel=stylesheet href=/scss/style.min.b0e76e98cdd4f7082d1fc36f7af7e0843a81201db2197c03ca426751dc923735.css><meta property='og:title' content="Learn Terraform Basic"><meta property='og:description' content="A practical guide to learning Terraform basics, written from real operations experience. Covers core concepts, step by step workflow, AWS examples, environment separation, and remote state best practices without fluff or hype."><meta property='og:url' content='https://dowithsudo.com/p/learn-terraform-basic/'><meta property='og:site_name' content='Practical Sysadmin & Network Notes'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Devops'><meta property='article:tag' content='System Administrator'><meta property='article:published_time' content='2025-12-11T00:00:00+00:00'><meta property='article:modified_time' content='2025-12-11T00:00:00+00:00'><meta name=twitter:title content="Learn Terraform Basic"><meta name=twitter:description content="A practical guide to learning Terraform basics, written from real operations experience. Covers core concepts, step by step workflow, AWS examples, environment separation, and remote state best practices without fluff or hype."><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-H0MSX0M2D2"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H0MSX0M2D2")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_710a193a70a61629.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Practical Sysadmin & Network Notes</a></h1><h2 class=site-description>Less theory, more uptime</h2></div></header><ol class=menu-social><li><a href=https://github.com/dowithsudo target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/ktwijaya/ target=_blank title=linkedin rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 10-4 0"/><path d="M3 7a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4H7a4 4 0 01-4-4z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about-me/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 12h3v4H7z"/><path d="M10 6H4A1 1 0 003 7v12a1 1 0 001 1h16a1 1 0 001-1V7a1 1 0 00-1-1h-6"/><path d="M10 3m0 1a1 1 0 011-1h2a1 1 0 011 1v3a1 1 0 01-1 1h-2a1 1 0 01-1-1z"/><path d="M14 16h2"/><path d="M14 12h4"/></svg>
<span>About Me</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#what-problem-terraform-solves>What Problem Terraform Solves</a></li><li><a href=#core-concepts-you-must-understand>Core Concepts You Must Understand</a><ol><li><a href=#provider>Provider</a></li><li><a href=#resource>Resource</a></li><li><a href=#state>State</a></li><li><a href=#plan>Plan</a></li><li><a href=#apply>Apply</a></li></ol></li><li><a href=#installing-terraform>Installing Terraform</a></li><li><a href=#first-terraform-project-structure>First Terraform Project Structure</a></li><li><a href=#writing-your-first-terraform-code>Writing Your First Terraform Code</a><ol><li><a href=#maintf>main.tf</a></li></ol></li><li><a href=#terraform-workflow-step-by-step>Terraform Workflow Step by Step</a><ol><li><a href=#step-1-initialize>Step 1. Initialize</a></li><li><a href=#step-2-validate>Step 2. Validate</a></li><li><a href=#step-3-plan>Step 3. Plan</a></li><li><a href=#step-4-apply>Step 4. Apply</a></li></ol></li><li><a href=#understanding-state-behavior>Understanding State Behavior</a></li><li><a href=#variables-for-reusable-code>Variables for Reusable Code</a><ol><li><a href=#variablestf>variables.tf</a></li></ol></li><li><a href=#outputs-for-visibility>Outputs for Visibility</a><ol><li><a href=#outputstf>outputs.tf</a></li></ol></li><li><a href=#simple-analogy-that-actually-works>Simple Analogy That Actually Works</a></li><li><a href=#common-beginner-mistakes>Common Beginner Mistakes</a></li><li><a href=#when-terraform-is-a-bad-idea>When Terraform Is a Bad Idea</a></li><li><a href=#final-notes>Final Notes</a></li><li><a href=#example-using-aws>Example Using AWS</a><ol><li><a href=#provider-configuration>Provider Configuration</a></li><li><a href=#ec2-instance-resource>EC2 Instance Resource</a></li></ol></li><li><a href=#separating-lab-and-production>Separating Lab and Production</a><ol><li><a href=#lab-environment-example>Lab Environment Example</a></li><li><a href=#production-environment-example>Production Environment Example</a></li></ol></li><li><a href=#remote-state-and-locking-best-practice>Remote State and Locking Best Practice</a><ol><li><a href=#remote-state-configuration>Remote State Configuration</a></li><li><a href=#why-this-matters>Why This Matters</a></li></ol></li><li><a href=#operational-notes-from-the-field>Operational Notes From the Field</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/devops/>Devops</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/learn-terraform-basic/>Learn Terraform Basic</a></h2><h3 class=article-subtitle>A practical guide to learning Terraform basics, written from real operations experience. Covers core concepts, step by step workflow, AWS examples, environment separation, and remote state best practices without fluff or hype.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-12-11T00:00:00Z>Dec 11, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>7 minute read</time></div></footer></div></header><section class=article-content><h1 id=learning-terraform-basics>Learning Terraform Basics</h1><p>I write this from daily ops experience.
Terraform is a tool for people who hate guessing.
It turns infrastructure into files you can read, review, and track.
Logs matter, and state files matter even more.</p><p>Terraform manages infrastructure using code.
The code is plain text.
You can store it in Git.
You can review changes before touching production.
That alone already saves sleep.</p><p>Think of Terraform like a wiring diagram.
You do not power anything yet.
You only describe how cables should connect.
Terraform reads the diagram.
Then it builds exactly that.</p><h2 id=what-problem-terraform-solves>What Problem Terraform Solves</h2><p>Manual setup works.
It works until it does not.</p><p>Common issues appear fast.</p><ul><li>Servers differ between environments</li><li>Changes are forgotten</li><li>Rollback depends on memory</li><li>Documentation drifts from reality</li></ul><p>Terraform fixes this by force.
It only builds what the code says.
No more hidden clicks.
No more silent changes at midnight.</p><h2 id=core-concepts-you-must-understand>Core Concepts You Must Understand</h2><p>Terraform looks simple at first.
The basics decide everything later.</p><h3 id=provider>Provider</h3><p>A provider is a bridge.
It connects Terraform to a platform.
AWS, Azure, GCP, and many others use providers.</p><p>If you manage AWS EC2.
You use the AWS provider.</p><h3 id=resource>Resource</h3><p>A resource is one object.
A server.
A network.
A firewall rule.</p><p>Each resource has a type and a name.
Terraform tracks each resource in its state.</p><h3 id=state>State</h3><p>State is the source of truth.
Not the cloud console.
Not your memory.</p><p>The state file records real infrastructure.
Lose it and you lose control.
Protect it like production data.</p><h3 id=plan>Plan</h3><p>Plan shows what will change.
Nothing executes yet.</p><p>This step prevents surprises.
Always read the plan.</p><h3 id=apply>Apply</h3><p>Apply makes changes real.
Terraform compares code and state.
Then it acts.</p><h2 id=installing-terraform>Installing Terraform</h2><p>Use the official binary.
Avoid random packages.</p><p>Example for Linux.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Download Terraform binary</span>
</span></span><span class=line><span class=cl><span class=c1># This gets the exact version we want</span>
</span></span><span class=line><span class=cl>wget https://releases.hashicorp.com/terraform/1.6.6/terraform_1.6.6_linux_amd64.zip
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Unzip the binary</span>
</span></span><span class=line><span class=cl><span class=c1># This extracts the terraform executable</span>
</span></span><span class=line><span class=cl>unzip terraform_1.6.6_linux_amd64.zip
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Move binary to PATH</span>
</span></span><span class=line><span class=cl><span class=c1># This allows terraform command anywhere</span>
</span></span><span class=line><span class=cl>sudo mv terraform /usr/local/bin/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify installation</span>
</span></span><span class=line><span class=cl><span class=c1># This confirms terraform is ready</span>
</span></span><span class=line><span class=cl>terraform version
</span></span></code></pre></td></tr></table></div></div><p>If this fails.
Fix it now.
Do not continue.</p><h2 id=first-terraform-project-structure>First Terraform Project Structure</h2><p>Keep structure boring.
Boring is stable.</p><p>Example layout.</p><ul><li>main.tf</li><li>variables.tf</li><li>outputs.tf</li><li>terraform.tfstate</li></ul><p>Do not rename files randomly.
Terraform loads all .tf files together.</p><h2 id=writing-your-first-terraform-code>Writing Your First Terraform Code</h2><p>We start small.
One local file.
No cloud yet.</p><p>This removes noise.</p><h3 id=maintf>main.tf</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Configure Terraform settings
</span></span></span><span class=line><span class=cl><span class=c1># Required version avoids unexpected behavior
</span></span></span><span class=line><span class=cl><span class=k>terraform</span> {
</span></span><span class=line><span class=cl><span class=n>  required_version</span> <span class=o>=</span><span class=n> &#34;&gt;</span><span class=o>=</span> <span class=m>1</span><span class=p>.</span><span class=m>6</span><span class=p>.</span><span class=m>0</span><span class=err>&#34;</span>
</span></span><span class=line><span class=cl>}<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1># Local file resource
</span></span></span><span class=line><span class=cl><span class=c1># This creates a file on the local system
</span></span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;local_file&#34; &#34;example&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # File content
</span></span></span><span class=line><span class=cl><span class=c1>  # This text will be written into the file
</span></span></span><span class=line><span class=cl><span class=n>  content</span>  <span class=o>=</span> <span class=s2>&#34;Terraform was here&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # File name
</span></span></span><span class=line><span class=cl><span class=c1>  # Path where the file will be created
</span></span></span><span class=line><span class=cl><span class=n>  filename</span> <span class=o>=</span> <span class=s2>&#34;./hello.txt&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>This code does one thing.
It creates a text file.</p><p>That is enough to learn the workflow.</p><h2 id=terraform-workflow-step-by-step>Terraform Workflow Step by Step</h2><p>This flow never changes.
Learn it once.</p><h3 id=step-1-initialize>Step 1. Initialize</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Initialize Terraform project</span>
</span></span><span class=line><span class=cl><span class=c1># This downloads required providers</span>
</span></span><span class=line><span class=cl>terraform init
</span></span></code></pre></td></tr></table></div></div><p>Init prepares the working directory.
Run it once per project.
Run it again if providers change.</p><h3 id=step-2-validate>Step 2. Validate</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Validate configuration files</span>
</span></span><span class=line><span class=cl><span class=c1># This checks syntax and basic errors</span>
</span></span><span class=line><span class=cl>terraform validate
</span></span></code></pre></td></tr></table></div></div><p>This catches mistakes early.
Use it before plan.</p><h3 id=step-3-plan>Step 3. Plan</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Show execution plan</span>
</span></span><span class=line><span class=cl><span class=c1># This previews changes without applying</span>
</span></span><span class=line><span class=cl>terraform plan
</span></span></code></pre></td></tr></table></div></div><p>Read the output.
Every line matters.
If something looks wrong.
Stop here.</p><h3 id=step-4-apply>Step 4. Apply</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Apply changes</span>
</span></span><span class=line><span class=cl><span class=c1># This creates or updates resources</span>
</span></span><span class=line><span class=cl>terraform apply
</span></span></code></pre></td></tr></table></div></div><p>Terraform asks for confirmation.
Say yes only when ready.</p><p>After apply.
Check the file system.
hello.txt should exist.</p><h2 id=understanding-state-behavior>Understanding State Behavior</h2><p>Terraform stores state locally by default.
This is fine for learning.
It is risky for teams.</p><p>State maps code to real objects.
Delete state and Terraform forgets everything.</p><p>For real projects.
Use remote state.
S3, GCS, or similar backends.</p><h2 id=variables-for-reusable-code>Variables for Reusable Code</h2><p>Hardcoded values do not scale.
Variables fix that.</p><h3 id=variablestf>variables.tf</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Define a variable
</span></span></span><span class=line><span class=cl><span class=c1># This allows flexible input
</span></span></span><span class=line><span class=cl><span class=k>variable</span> <span class=s2>&#34;file_content&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # Variable type
</span></span></span><span class=line><span class=cl><span class=n>  type</span> <span class=o>=</span> <span class=k>string</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # Default value
</span></span></span><span class=line><span class=cl><span class=n>  default</span> <span class=o>=</span> <span class=s2>&#34;Terraform was here&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Update main.tf.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Use variable inside resource
</span></span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;local_file&#34; &#34;example&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # Content comes from variable
</span></span></span><span class=line><span class=cl><span class=n>  content</span>  <span class=o>=</span> <span class=k>var</span><span class=p>.</span><span class=k>file_content</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # File path stays the same
</span></span></span><span class=line><span class=cl><span class=n>  filename</span> <span class=o>=</span> <span class=s2>&#34;./hello.txt&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Now the code adapts.
No rewrite needed.</p><h2 id=outputs-for-visibility>Outputs for Visibility</h2><p>Outputs show useful data.
They help other tools.</p><h3 id=outputstf>outputs.tf</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Output file path
</span></span></span><span class=line><span class=cl><span class=c1># This displays after apply
</span></span></span><span class=line><span class=cl><span class=k>output</span> <span class=s2>&#34;file_path&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  value</span> <span class=o>=</span> <span class=k>local_file</span><span class=p>.</span><span class=k>example</span><span class=p>.</span><span class=k>filename</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Run apply again.
Terraform prints the output.</p><h2 id=simple-analogy-that-actually-works>Simple Analogy That Actually Works</h2><p>Terraform is not magic.
It is a strict technician.</p><p>You give a checklist.
It follows the checklist exactly.</p><p>If the checklist is wrong.
Terraform is not polite.
It still executes it.</p><p>That is why review matters.</p><h2 id=common-beginner-mistakes>Common Beginner Mistakes</h2><p>These appear every week.</p><ul><li>Skipping plan</li><li>Editing resources manually</li><li>Ignoring state files</li><li>Mixing environments in one project</li></ul><p>Terraform rewards discipline.
It punishes shortcuts.</p><h2 id=when-terraform-is-a-bad-idea>When Terraform Is a Bad Idea</h2><p>Terraform is not for everything.</p><p>Avoid it for.</p><ul><li>One time experiments</li><li>Manual emergency fixes</li><li>Systems without stable APIs</li></ul><p>Use the right tool.
Sleep matters.</p><h2 id=final-notes>Final Notes</h2><p>Terraform basics are simple.
The impact is not.</p><p>Treat code like production.
Review changes.
Protect state.
Write boring configs.</p><p>If it feels boring.
You are doing it right.</p><h2 id=example-using-aws>Example Using AWS</h2><p>This example uses AWS EC2.
It stays minimal on purpose.</p><p>You need an AWS account.
You need an IAM user.
Use access key and secret key.</p><h3 id=provider-configuration>Provider Configuration</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># AWS provider configuration
</span></span></span><span class=line><span class=cl><span class=c1># This tells Terraform how to talk to AWS
</span></span></span><span class=line><span class=cl><span class=k>provider</span> <span class=s2>&#34;aws&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # AWS region
</span></span></span><span class=line><span class=cl><span class=c1>  # Choose one and stay consistent
</span></span></span><span class=line><span class=cl><span class=n>  region</span> <span class=o>=</span> <span class=s2>&#34;ap-southeast-1&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h3 id=ec2-instance-resource>EC2 Instance Resource</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># EC2 instance resource
</span></span></span><span class=line><span class=cl><span class=c1># This creates a single virtual server
</span></span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_instance&#34; &#34;lab_server&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # Amazon Linux AMI
</span></span></span><span class=line><span class=cl><span class=c1>  # AMI ID is region specific
</span></span></span><span class=line><span class=cl><span class=n>  ami</span> <span class=o>=</span> <span class=s2>&#34;ami-0df7a207adb9748c7&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # Instance size
</span></span></span><span class=line><span class=cl><span class=c1>  # Small enough for lab usage
</span></span></span><span class=line><span class=cl><span class=n>  instance_type</span> <span class=o>=</span> <span class=s2>&#34;t3.micro&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>  # Tags help tracking and cleanup
</span></span></span><span class=line><span class=cl><span class=n>  tags</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>    Name</span> <span class=o>=</span> <span class=s2>&#34;terraform-lab-server&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Run init, plan, and apply.
Check AWS console after apply.
The instance should exist.</p><h2 id=separating-lab-and-production>Separating Lab and Production</h2><p>Never mix environments.
It ends badly.</p><p>Use separate directories.</p><ul><li>envs/lab</li><li>envs/production</li></ul><p>Each environment has its own state.
Each environment has its own variables.</p><p>Example structure.</p><ul><li>modules/ec2</li><li>envs/lab/main.tf</li><li>envs/production/main.tf</li></ul><h3 id=lab-environment-example>Lab Environment Example</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Lab environment EC2
</span></span></span><span class=line><span class=cl><span class=c1># Uses smaller instance and cheaper setup
</span></span></span><span class=line><span class=cl><span class=k>module</span> <span class=s2>&#34;ec2&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  source</span> <span class=o>=</span> <span class=s2>&#34;../../modules/ec2&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  instance_type</span> <span class=o>=</span> <span class=s2>&#34;t3.micro&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  name</span>          <span class=o>=</span> <span class=s2>&#34;lab-server&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h3 id=production-environment-example>Production Environment Example</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Production environment EC2
</span></span></span><span class=line><span class=cl><span class=c1># Uses more stable instance size
</span></span></span><span class=line><span class=cl><span class=k>module</span> <span class=s2>&#34;ec2&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  source</span> <span class=o>=</span> <span class=s2>&#34;../../modules/ec2&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  instance_type</span> <span class=o>=</span> <span class=s2>&#34;t3.medium&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  name</span>          <span class=o>=</span> <span class=s2>&#34;production-server&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Same code.
Different behavior.
No risk of cross damage.</p><h2 id=remote-state-and-locking-best-practice>Remote State and Locking Best Practice</h2><p>Local state does not scale.
Teams overwrite each other.</p><p>Use remote backend.
Use locking.</p><p>AWS S3 with DynamoDB works well.</p><h3 id=remote-state-configuration>Remote State Configuration</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=c1># Remote backend configuration
</span></span></span><span class=line><span class=cl><span class=c1># Stores state in S3 and locks via DynamoDB
</span></span></span><span class=line><span class=cl><span class=k>terraform</span> {
</span></span><span class=line><span class=cl>  <span class=k>backend</span> <span class=s2>&#34;s3&#34;</span> {<span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    # S3 bucket for state file
</span></span></span><span class=line><span class=cl><span class=n>    bucket</span> <span class=o>=</span> <span class=s2>&#34;my-terraform-state-bucket&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    # Path inside the bucket
</span></span></span><span class=line><span class=cl><span class=n>    key</span>    <span class=o>=</span> <span class=s2>&#34;lab/terraform.tfstate&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    # AWS region
</span></span></span><span class=line><span class=cl><span class=n>    region</span> <span class=o>=</span> <span class=s2>&#34;ap-southeast-1&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    # DynamoDB table for locking
</span></span></span><span class=line><span class=cl><span class=n>    dynamodb_table</span> <span class=o>=</span> <span class=s2>&#34;terraform-locks&#34;</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    # Encrypt state at rest
</span></span></span><span class=line><span class=cl><span class=n>    encrypt</span> <span class=o>=</span> <span class=kt>true</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h3 id=why-this-matters>Why This Matters</h3><p>State contains sensitive data.
IPs, IDs, and metadata.</p><p>Locking prevents parallel apply.
Parallel apply breaks infrastructure.</p><p>Create the S3 bucket first.
Create DynamoDB table first.
Terraform will not do that for you.</p><h2 id=operational-notes-from-the-field>Operational Notes From the Field</h2><p>Use one state per environment.
Never share state files.</p><p>Protect backend credentials.
Rotate keys regularly.</p><p>Review plan output as a team.
One missed line can cost hours.</p><p>Terraform works best with discipline.
It does not forgive carelessness.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/devops/>Devops</a>
<a href=/tags/system-administrator/>System Administrator</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/basic-docker/><div class=article-image><img src=/p/basic-docker/cover.2d4dbc2a01431bdf6a23bfe45becfca6_hu_172670f92bfa838b.webp width=250 height=150 loading=lazy alt="Featured image of post Basic Docker" data-key=basic-docker data-hash="md5-LU28KgFDG99qI7/kW+z8pg=="></div><div class=article-details><h2 class=article-title>Basic Docker</h2></div></a></article><article class=has-image><a href=/p/linux-file-permision/><div class=article-image><img src=/p/linux-file-permision/cover.94603c31a8f58ed7c8a4b5aa17f0570a_hu_e11f61cfdf750769.webp width=250 height=150 loading=lazy alt="Featured image of post Linux File Permision" data-key=linux-file-permision data-hash="md5-lGA8Maj1jtfIpLWqF/BXCg=="></div><div class=article-details><h2 class=article-title>Linux File Permision</h2></div></a></article><article class=has-image><a href=/p/linux-server-hardening/><div class=article-image><img src=/p/linux-server-hardening/cover.8a559a3f03cb85174f670fe60222afae_hu_857045e0db31d1a5.webp width=250 height=150 loading=lazy alt="Featured image of post Linux Server Hardening" data-key=linux-server-hardening data-hash="md5-ilWaPwPLhRdPZw/mAiKvrg=="></div><div class=article-details><h2 class=article-title>Linux Server Hardening</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2025 Practical Sysadmin & Network Notes</section><section class=powerby>dowithsudo@gmail.com<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.32.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>